@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    html {
        scroll-behavior: smooth;
    }
    
    body {
        @apply font-sans antialiased;
        @apply bg-gray-50;
    }
    
    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }
    
    body {
        animation: fadeIn 0.6s ease-out;
    }
}

@layer components {
    /* [PATCH #4.3] Admin Search Input Styles - Scoped to Admin Body */
    .admin-body .admin-search-wrapper {
        @apply relative flex items-center;
    }
    
    .admin-body .admin-search-icon {
        @apply absolute left-4 pointer-events-none z-10 text-gray-400 transition-colors;
        top: 50%;
        transform: translateY(-50%);
    }

    .admin-body .admin-search-input {
        @apply block w-full pr-4 py-3 bg-white border border-gray-200 rounded-xl text-gray-900 placeholder-gray-400 transition-all shadow-sm;
        padding-left: 2.75rem; /* 44px icon offset */
    }

    .admin-body .admin-search-input:focus {
        @apply outline-none ring-2 ring-primary-500/20 border-primary-500;
    }

    .admin-body .admin-search-wrapper:focus-within .admin-search-icon {
        @apply text-primary-500;
    }

    /* Override any global opacity rules using high specificity under admin scope */
    .admin-body .admin-search-wrapper .admin-search-icon {
        opacity: 1;
    }

    /* Modern Button Styles */
    .btn {
        @apply px-6 py-3 rounded-xl font-semibold transition-all duration-300 ease-in-out inline-flex items-center justify-center;
        @apply transform hover:scale-[1.02] active:scale-[0.98];
        @apply shadow-md hover:shadow-lg;
        @apply focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2;
        position: relative;
        overflow: hidden;
        min-height: 44px;
    }
    
    .btn::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
        transition: left 0.5s;
    }
    
    .btn:hover::before {
        left: 100%;
    }
    
    .btn-primary {
        @apply bg-gradient-to-r from-primary-600 via-primary-700 to-primary-800 text-white;
        @apply hover:from-primary-700 hover:via-primary-800 hover:to-primary-900;
        @apply border-0;
        background-size: 200% 100%;
        transition: background-position 0.3s ease-in-out, transform 0.2s ease-in-out, box-shadow 0.3s ease-in-out;
    }
    
    .btn-primary:hover {
        background-position: right center;
        box-shadow: 0 10px 25px -5px rgba(220, 38, 38, 0.4);
    }
    
    .btn-secondary {
        @apply bg-gray-200 text-gray-900 hover:bg-gray-300;
    }
    
    .btn-outline {
        @apply border-2 border-primary-600 text-primary-600;
        @apply hover:bg-primary-600 hover:text-white;
        @apply bg-transparent;
    }
    
    .btn-accent {
        @apply bg-gradient-to-r from-accent-600 to-accent-700 text-white;
        @apply hover:from-accent-700 hover:to-accent-800;
    }
    
    /* Modern Card Styles */
    .card {
        @apply bg-white rounded-2xl shadow-lg overflow-hidden;
        @apply transition-all duration-500;
        @apply hover:shadow-2xl hover:-translate-y-2;
        @apply border border-gray-100;
    }
    
    .card-vehicle {
        @apply bg-white rounded-2xl shadow-xl overflow-hidden;
        @apply transition-all duration-500;
        @apply hover:shadow-2xl hover:-translate-y-3;
        @apply border border-gray-100;
    }
    
    .card-vehicle:hover {
        @apply border-primary-200;
    }
    
    /* Modern Container */
    .container-custom {
        @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
    }
    
    /* Section Padding */
    .section-padding {
        @apply py-20 lg:py-28;
    }
    
    /* Modern Headings */
    .heading-primary {
        @apply text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900;
        @apply leading-tight;
    }
    
    .heading-secondary {
        @apply text-2xl md:text-3xl font-bold text-gray-900;
    }
    
    /* Text Gradient */
    .text-gradient {
        @apply bg-gradient-to-r from-primary-600 via-primary-700 to-primary-800;
        @apply bg-clip-text text-transparent;
    }
    
    /* Modern Input */
    .input-modern {
        @apply w-full border-2 border-gray-200 rounded-xl px-5 py-4;
        @apply focus:ring-2 focus:ring-primary-500 focus:border-primary-500;
        @apply transition-all duration-300;
        @apply bg-white;
    }
    
    .input-modern:focus {
        @apply shadow-lg transform scale-[1.02];
    }
}

@layer utilities {
    /* Backdrop Blur */
    .backdrop-blur-modern {
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
    }
    
    /* Tab Styles */
    .hero-tab {
        @apply flex-1 px-6 py-5 font-bold text-sm uppercase tracking-wider transition-all duration-300 ease-in-out;
        @apply relative overflow-hidden;
        position: relative;
    }
    
    .hero-tab::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 3px;
        background: linear-gradient(90deg, #dc2626, #991b1b);
        transform: scaleX(0);
        transform-origin: left;
        transition: transform 0.3s ease-in-out;
    }
    
    .hero-tab.active {
        @apply bg-gradient-to-r from-primary-600 via-primary-700 to-primary-800 text-white;
        background-size: 200% 100%;
        transition: background-position 0.3s ease-in-out, transform 0.2s ease-in-out;
    }
    
    .hero-tab.active:hover {
        background-position: right center;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px -2px rgba(220, 38, 38, 0.4);
    }
    
    .hero-tab.active::after {
        transform: scaleX(1);
    }
    
    .hero-tab:not(.active) {
        @apply bg-white text-gray-600 hover:bg-gray-50;
        transition: all 0.3s ease-in-out;
    }
    
    /* Custom Dropdown for Hero Section */
    .hero-custom-dropdown {
        position: relative;
        z-index: 10;
    }

    .hero-custom-dropdown-trigger {
        @apply w-full px-5 py-4 rounded-xl text-left;
        @apply bg-white text-gray-900;
        @apply flex items-center justify-between;
        @apply font-semibold transition-all duration-200;
        @apply hover:border-primary-500;
        cursor: pointer;
    }

    .hero-custom-dropdown-trigger.open {
        @apply border-primary-500 ring-2 ring-primary-500/20;
    }

    .hero-custom-dropdown-trigger .selected-text.placeholder {
        @apply text-gray-400 font-normal;
    }

    .hero-custom-dropdown-trigger .arrow {
        transition: transform 0.3s ease;
    }

    .hero-custom-dropdown-trigger.open .arrow {
        transform: rotate(180deg);
    }

    .hero-custom-dropdown-panel {
        display: none;
        position: absolute;
        top: calc(100% + 0.5rem);
        left: 0;
        right: 0;
        @apply bg-white rounded-xl shadow-2xl border-2 border-gray-100;
        @apply max-h-72 overflow-y-auto;
        z-index: 100;
        animation: dropdownFadeIn 0.2s ease-out;
    }

    @keyframes dropdownFadeIn {
        from {
            opacity: 0;
            transform: translateY(-10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .hero-custom-dropdown-panel.open {
        display: block;
    }

    .hero-custom-dropdown-option {
        @apply px-5 py-4 cursor-pointer;
        @apply text-gray-700 font-medium;
        @apply hover:bg-primary-50 hover:text-primary-700;
        @apply transition-all duration-150;
        border-bottom: 1px solid #f3f4f6;
    }

    .hero-custom-dropdown-option:last-child {
        border-bottom: none;
    }

    .hero-custom-dropdown-option.selected {
        @apply bg-primary-100 text-primary-700 font-bold;
    }

    .hero-custom-dropdown-native {
        display: none;
    }

    /* Dark Mode Dropdown */
    .dark .hero-custom-dropdown-trigger {
        @apply bg-[#2a2a2a] text-gray-100 border-gray-700;
    }

    .dark .hero-custom-dropdown-panel {
        @apply bg-[#2a2a2a] border-gray-700;
    }

    .dark .hero-custom-dropdown-option {
        @apply text-gray-300 hover:bg-primary-900/20 hover:text-primary-400;
        border-bottom-color: #374151;
    }

    .dark .hero-custom-dropdown-option.selected {
        @apply bg-primary-900/30 text-primary-400;
    }
    
    /* Dark Mode Utility Overrides (Website Only) */
    .dark .text-gradient {
        @apply from-primary-400 via-primary-500 to-primary-600;
    }
    
    .dark .hero-tab.active {
        @apply bg-gradient-to-r from-primary-600 via-primary-700 to-primary-800 text-white;
    }
}
